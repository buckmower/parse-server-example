<!DOCTYPE html>
<html>
  <head>
  	<!-- Meta-->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
      <meta name="description" content="Host elections, nominate pages, and cast votes.">
      <meta name="keywords" content="vote, election, group, nominate, decide, represent">
      <meta name="author" content="William Buckley Mower">
      <!-- Desktop Browsers -->
      <link rel="shortcut icon" type="image/x-icon" href="assets/icons/favicon.ico" />
      
      <!-- Android: Chrome M39 and up-->
      <link rel="manifest" href="assets/icons/manifest.json">
      <!-- Android: Chrome M31 and up, ignored if manifest is present-->
      <meta name="mobile-web-app-capable" content="yes">
      <link rel="icon" sizes="192x192" href="assets/icons/icon-192x192.png">
      <!-- iOS -->
      <meta name="apple-mobile-web-app-capable" content="yes">
      <meta name="apple-mobile-web-app-title" content="Represent.xyz">
      
      <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/apple-touch-icon-180x180-precomposed.png">
      <link href="assets/icons/apple-touch-icon-152x152-precomposed.png" sizes="152x152" rel="apple-touch-icon">
      <link href="assets/icons/apple-touch-icon-144x144-precomposed.png" sizes="144x144" rel="apple-touch-icon">
      <link href="assets/icons/apple-touch-icon-120x120-precomposed.png" sizes="120x120" rel="apple-touch-icon">
      <link href="assets/icons/apple-touch-icon-114x114-precomposed.png" sizes="114x114" rel="apple-touch-icon">
      <link href="assets/icons/apple-touch-icon-76x76-precomposed.png" sizes="76x76" rel="apple-touch-icon">
      <link href="assets/icons/apple-touch-icon-72x72-precomposed.png" sizes="72x72" rel="apple-touch-icon">
      <link href="assets/icons/apple-touch-icon-60x60-precomposed.png" sizes="60x60" rel="apple-touch-icon">
      <link href="assets/icons/apple-touch-icon-57x57-precomposed.png" sizes="57x57" rel="apple-touch-icon">
      <link href="assets/icons/apple-touch-icon-precomposed.png" rel="apple-touch-icon">
      
      <!-- Windows 8 and IE 11 -->
      <meta name="msapplication-config" content="assets/icons/browserconfig.xml" />
      
      <!-- Windows -->
      <meta name="application-name" content="Represent.xyz" />
      <meta name="msapplication-tooltip" content="Let's Make Decisions Together!" />
      <meta name="msapplication-window" content="width=1024;height=768" />
      <meta name="msapplication-navbutton-color" content="#007EFF" />
      <meta name="msapplication-starturl" content="./" />
   <!-- Title -->
      <title>Represent.xyz | Let's Make Decisions Together</title>
   <!-- CSS -->
      <link rel="stylesheet" href="admin/app/css/bootstrap.css">
      <style>
         @media(min-width: 150px){
            .signuploginbutton {
               width: 50px;
            }
            #logoandslogan {
              padding-top: 15px;
            }
         }
         @media(min-width: 300px){
            .signuploginbutton {
               width: 60px;
            }
            #logoandslogan {
              padding-top: 31px;
            }
         }
          @media(min-width: 600px){
            .signuploginbutton {
               width: 70px;
            }
            #logoandslogan {
              padding-top: 45px;
            }
         }
          @media(min-width: 1200px){
            .signuploginbutton {
               width: 90px;
            }
            #logoandslogan {
              padding-top: 45px;
            }
         }
      </style>
   <!-- JQuery -->
   	  <script src="admin/app/vendor/jquery/jquery.min.js"></script>
   <!-- Main vendor Scripts -->
   	  <script src="admin/app/vendor/bootstrap/js/bootstrap.min.js"></script>
   <!-- Signup Process -->
   <% include /signupProcess %>
   <% include /alerts %>
   	  <script>
          // JavaScript Document
        $(document).ready(function(){
        $("#sphereNameInput").keyup(function() 
        {
        $("#suggestionsFrame").removeClass("hidden");
        $("#suggestionsFrame").addClass("show");
        var searchbox = $(this).val();
        var dataString = 'sphere_name='+ searchbox;
        if(searchbox === '')
        {}
        else
        {
        $.ajax({
        type: "POST",
        url: "/search",
        data: dataString,
        cache: false,
        success: function(arrayofhtml)
        {
           var str = arrayofhtml.join('');
           $("#suggestion").html(str).show();
        }
        });
        }return false; 
        });
        $("#dismissSuggestionsButton").click(function(){
           $("#suggestionsFrame").addClass("hidden");
        });
        });
      </script>
      
  </head>
  <body style="background-color: #FFFFFF;">
  <div class="modal fade" id="signupModal" tabindex="-1" role="dialog" aria-labelledby="signupModal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
          <h4 class="modal-title">Signup</h4>
        </div>
        <div class="modal-body">
           <div id="signuperrordiv" class="alert alert-warning hidden">
           	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
			  <span aria-hidden="true">&times;</span>
			</button>
			<ul id="signuperrorlist">
				<li id="signuperrorlistitemnoname" class="hidden"></li>
				<li id="signuperrorlistitemnoemail" class="hidden"></li>
				<li id="signuperrorlistitemnopassword" class="hidden"></li>
			</ul>
           </div>
           <form class="form-horizontal">
           	  <div class="form-group">
			    <label for="signupName" class="col-sm-2 control-label">Name</label>
			    <div class="col-sm-10">
			      <input type="text" class="form-control" name="signupName" id="signupName" placeholder="Name" value="">
			    </div>
			  </div>
			  <div class="form-group">
			    <label for="signupEmail" class="col-sm-2 control-label">Email</label>
			    <div class="col-sm-10">
			      <input type="email" class="form-control" name="signupEmail" id="signupEmail" placeholder="Email" value="">
			    </div>
			  </div>
			  <div class="form-group">
			    <label for="signupPassword" class="col-sm-2 control-label">Password</label>
			    <div class="col-sm-10">
			      <input type="password" class="form-control" name="signupPassword" id="signupPassword" placeholder="Password" value="">
			    </div>
			  </div>
			</form>
			<button class="btn btn-md btn-default" id="submitSignup">Signup</button>
        </div>
        <div class="modal-footer">
          <a class="btn btn-sm btn-primary pull-left" href="/spheres">Login with Facebook</a>
          <button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Close</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
  <div class="modal fade" id="recoverPasswordModal" tabindex="-1" role="dialog" aria-labelledby="recoverPasswordModal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
          <h4 class="modal-title">Recover Password</h4>
        </div>
        <div class="modal-body">
      <form class="form-horizontal">
			  <div class="form-group">
			    <label for="recoveryEmail" class="col-sm-2 control-label">Email</label>
			    <div class="col-sm-10">
			      <input type="email" class="form-control" name="resetemail" id="resetemail" placeholder="Email">
			    </div>
			  </div>
			</form>
			<button class="btn btn-lg btn-default" id="submitRecoverPassword">Send Email</button>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
  <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
          <h4 class="modal-title">Login</h4>
        </div>
        <div class="modal-body">
          <div id="loginerrormessage" class="alert alert-warning <%= loginerrormessagehiddenorshown %>">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <span id="loginerrormessagetext" style="color: #333;"></span>
          </div>
        <form class="form-horizontal">
			  <div class="form-group">
			    <label for="loginEmail" class="col-sm-2 control-label">Email</label>
			    <div class="col-sm-10">
			      <input type="email" class="form-control" name="loginEmail" id="loginEmail" placeholder="Email">
			    </div>
			  </div>
			  <div class="form-group">
			    <label for="loginPassword" class="col-sm-2 control-label">Password</label>
			    <div class="col-sm-10">
			      <input type="password" class="form-control" name="loginPassword" id="loginPassword" placeholder="Password">
			    </div>
			  </div>
			</form>
			<button class="btn btn-md btn-default" id="submitLogin">Login</button>
        </div>
        <div class="modal-footer">
          <a href="javascript:void(0);" class="pull-left" data-toggle="modal" data-target="#recoverPasswordModal" data-dismiss="modal">forgot?</a>
          <div class="btn-group">
            <a class="btn btn-sm btn-primary pull-left" href="/spheres">Login with Facebook</a>
            <button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
  <div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
          <h4 class="modal-title">Search for a Sphere</h4>
        </div>
        <div class="modal-body">
           <div id="sphereSearch">
             <form role="search" class="navbar-form">
                <div class="input-sphere">
                   <input type="text" id="sphereNameInput" placeholder="Start typing to search..." class="form-control">
                </div>
             </form>
             <div class="hidden" id="suggestionsFrame" style="display: inline-block;">
               <button id="dismissSuggestionsButton" class="close"><span>&times;</span></button>
                  <div id="suggestion" style="display: inline-block;">
                  </div>
             </div>
           </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-md btn-primary" data-dismiss="modal" data-toggle="modal" data-target="#suggestedspheresModal">Suggestions</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
  <div class="modal fade" id="suggestedspheresModal" tabindex="-1" role="dialog" aria-labelledby="suggestedspheresModal" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
              <h4 class="modal-title">Spheres</h4>
            </div>
            <div class="modal-body" style="max-height: 85%; overflow: scroll;">
                <% for(var i=0; i < randomspheres.length; i++) { 
                    var randomsphere = randomspheres[i];
                %>
                    <h4><%= randomsphere.sphereName %></h4>
                    <a class="btn btn-default" data-toggle="collapse" href="#collapseDescription<%= randomsphere.sphereObjectID %>" aria-expanded="false" aria-controls="collapseDescription<%= randomsphere.sphereObjectID %>">Show Description</a>
                    <div class="collapse" id="collapseDescription<%= randomsphere.sphereObjectID %>">
                        <div class="well"><%= randomsphere.sphereDescription %></div>
                    </div>
                    <a class="btn btn-md btn-primary" href="/sphere/<%= randomsphere.sphereObjectID %>">Go to sphere</a>
                <% } %>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default pull-left" data-toggle="modal" data-target="#searchModal" data-dismiss="modal">Search</button>
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->
	<section id="home" class="">
		<div class="container">
			<div id="logoandslogan" class="row wow fadeInDown" data-wow-delay="0.2s" style="text-align: center;">
        <div class="col-xs-12">
					<div id="represent_xyzLogoContainer">
					 	<div id="represent_xyzLogo">
							<img class="img img-responsive" src="assets/icons/large.png" style="display: inline-block;" alt="REPRESENT.XYZ LOGO" /><br>
					 	</div>
					</div>
					<div class="btn-group">
						    <button class="btn btn-danger btn-sm signuploginbutton" data-toggle="modal" data-target="#signupModal">Signup</button>
							<button class="btn btn-default btn-sm text-primary" data-toggle="modal" data-target="#searchModal">Find Spheres</button>
							<button class="btn btn-primary btn-sm signuploginbutton" data-toggle="modal" data-target="#loginModal">Login</button>
					</div>
          <br>
          <br>
          <br>
          <div id="slogandiv">
            <p>Let's Make Decisions Together</p>
            <p><a href="/terms"> Terms</a><a href="/privacy"> Privacy</a></p>
          </div>
				</div>
			</div>
		</div>
	</section>
	<script>
	$(document).ready(function(){
       function getUrlParameter(sParam)
        {
            var sPageURL = window.location.search.substring(1);
            var sURLVariables = sPageURL.split('&');
            for (var i = 0; i < sURLVariables.length; i++) 
            {
                var sParameterName = sURLVariables[i].split('=');
                if (sParameterName[0] == sParam) 
                {
                    return sParameterName[1];
                }
            }
        }
        var rparams = getUrlParameter("success");
        var eparams = getUrlParameter("message");
        var e2params = getUrlParameter("er");
        var mparams = getUrlParameter("modal");
        if(rparams == "tryagain"){
          if(mparams == "login"){
            $("#loginModal").modal("show");
          }
          if(mparams == "signup"){
            $("#signupModal").modal("show");
          }
        }
        if(eparams == "incorrectlogin"){
          $("#loginModal").modal("show");
          $("#loginerrormessage").removeClass("hidden");
          $("#loginerrormessagetext").html("Incorrect Login");
        }
        if(eparams == "facebookemailsignedupwithpassword"){
          $("#loginModal").modal("show");
          $("#loginerrormessage").removeClass("hidden");
          $("#loginerrormessagetext").html("This Email Address Is Signed Up With A Password - Not With Facebook Login.");
        }
        if(eparams == "alreadysignedup"){
          $("#loginModal").modal("show");
          $("#loginerrormessage").removeClass("hidden");
          $("#loginerrormessagetext").html("You Have Already Signed Up! Login With Your Password.");
        }
        if(e2params == "incorrectlogin"){
          $("#loginModal").modal("show");
          $("#loginerrormessage").removeClass("hidden");
        }
	});
    </script>
  </body>
</html>
